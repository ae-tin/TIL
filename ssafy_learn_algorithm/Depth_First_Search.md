# 깊이 우선 탐색(DFS, Depth First Search)

> 한 방향으로 가능한 한 깊게 탐색한 후, 더 이상 갈 곳이 없으면 되돌아와 다른 방향을 탐색

## DFS 동작원리

1. 시작 정점의 한 방향으로 갈 수 있는 경로가 있는 곳까지 깊이 탐색해 나간다

2. 더 이상 갈 곳이 없게 되면 가장 마지막에 만났던 갈림길 간선이 있는 정점으로 되돌아와서 다른 방향의 정점으로 탐색을 계속 반복하여 결국 모든 정점을 방문하는 탐색방법

> 가장 마지막에 만났던 갈림길의 정점으로 되돌아가서 다시 깊이 우선 탐색을 반복해야 하므로 후입선출(LIFO) 구조의 스택 사용

### DFS 알고리즘

1. 시작 정점 `v`를 결정하여 방문한다.

2. 정점 `v`에 인접한 정점 중에서  
   a. 방문하지 않은 정점 `w`가 있으면, 정점 `v`를 스택에 **push**하고 정점 `w`를 방문한다. 그리고 `w`를 `v`로 하여 다시 **②**를 반복한다.  
   b. 방문하지 않은 정점이 없으면, 탐색의 방향을 바꾸기 위해 스택을 **pop**하여 받은 **가장 마지막 방문 정점**을 `v`로 하여 다시 **②**를 반복한다.

3. 스택이 **공백**이 될 때까지 **②**를 반복한다.

```textile
visited[], stack[] 초기화

DFS(v)
{
    // 시작점 v 방문
    visited[v] <- true;

    while (true) {
        if (v의 인접 정점 중 방문 안 한 정점 w가 있으면) {
            push(v);
            v <- w;              // w에 방문
            visited[w] <- true;
        } else {
            if (스택이 비어 있지 않으면) {
                v <- pop(stack);
            } else {
                break;
            }
        }
    }
}
```
